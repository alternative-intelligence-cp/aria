// Test Reverse function
%macro GEN_REVERSE 1
func:reverse_%1 = *int8(%1[]:arr, int64:length) {
    int64:start = 0;
    int64:end = length - 1;
    while (start < end) {
        %1:tmp = arr[start];
        arr[start] = arr[end];
        arr[end] = tmp;
        start = start + 1;
        end = end - 1;
    }
    return 0;
};
%endmacro

GEN_REVERSE(int32)
GEN_REVERSE(flt32)

func:main = *int8() {
    puts("Reverse works!");
    return 0;
};
