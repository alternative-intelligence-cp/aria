// Test remaining functions
%macro GEN_ALLEQUAL 1
func:allEqual_%1 = *int8(%1[]:arr, int64:length, %1:value) {
    int64:i = 0;
    while (i < length) {
        if (arr[i] != value) {
            return 0;
        }
        i = i + 1;
    }
    return 1;
};
%endmacro

%macro GEN_ANYEQUAL 1
func:anyEqual_%1 = *int8(%1[]:arr, int64:length, %1:value) {
    int64:i = 0;
    while (i < length) {
        if (arr[i] == value) {
            return 1;
        }
        i = i + 1;
    }
    return 0;
};
%endmacro

%macro GEN_COUNTIF_GT 1
func:countIfGt_%1 = *int64(%1[]:arr, int64:length, %1:threshold) {
    int64:count = 0;
    int64:i = 0;
    while (i < length) {
        if (arr[i] > threshold) {
            count = count + 1;
        }
        i = i + 1;
    }
    return count;
};
%endmacro

%macro GEN_SWAP 1
func:swap_%1 = *int8(%1[]:arr, int64:i, int64:j) {
    %1:tmp = arr[i];
    arr[i] = arr[j];
    arr[j] = tmp;
    return 0;
};
%endmacro

GEN_ALLEQUAL(int32)
GEN_ANYEQUAL(int32)
GEN_COUNTIF_GT(int32)
GEN_SWAP(int32)

func:main = *int8() {
    puts("All remaining functions work!");
    return 0;
};
