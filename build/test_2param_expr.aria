%macro TEST_MACRO 2
func:test_%1 = *int32(%1:x) {
    int32:limit = %2 - 1;
    int32:i = 0;
    while (i < %2) {
        i = i + 1;
    }
    return limit;
};
%endmacro

TEST_MACRO(int8, 8)

func:main = *int8() {
    return 0;
};
