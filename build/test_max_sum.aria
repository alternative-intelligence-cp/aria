// Test MAX, SUM, AllEqual, AnyEqual, CountIfGt, Swap
%macro GEN_MAX 1
func:max_%1 = *%1(%1[]:arr, int64:length) {
    %1:maxVal = arr[0];
    int64:i = 1;
    while (i < length) {
        if (arr[i] > maxVal) {
            maxVal = arr[i];
        }
        i = i + 1;
    }
    return maxVal;
};
%endmacro

%macro GEN_SUM 1
func:sum_%1 = *%1(%1[]:arr, int64:length) {
    %1:total = arr[0];
    int64:i = 1;
    while (i < length) {
        total = total + arr[i];
        i = i + 1;
    }
    return total;
};
%endmacro

GEN_MAX(int32)
GEN_SUM(int32)

func:main = *int8() {
    puts("MAX and SUM work!");
    return 0;
};
