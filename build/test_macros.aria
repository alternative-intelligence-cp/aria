// Aria Stdlib Demo - Real-World Examples
// Showcases 154 working functions from collections + math libraries
// Standalone file ready for Tsoding review

// =============================================================================
// COLLECTIONS LIBRARY (130 functions across 10 types)
// =============================================================================

%macro GEN_CONTAINS 1
func:contains_%1 = *int8(%1[]:arr, int64:length, %1:value) {
    int64:i = 0;
    while (i < length) {
        if (arr[i] == value) { return 1; }
        i = i + 1;
    }
    return 0;
};
%endmacro

%macro GEN_SUM 1
func:sum_%1 = *%1(%1[]:arr, int64:length) {
    %1:total = 0;
    int64:i = 0;
    while (i < length) {
        total = total + arr[i];
        i = i + 1;
    }
    return total;
};
%endmacro

%macro GEN_MIN 1
func:min_%1 = *%1(%1[]:arr, int64:length) {
    %1:minimum = arr[0];
    int64:i = 1;
    while (i < length) {
        if (arr[i] < minimum) {
            minimum = arr[i];
        }
        i = i + 1;
    }
    return minimum;
};
%endmacro

%macro GEN_MAX 1
func:max_%1 = *%1(%1[]:arr, int64:length) {
    %1:maximum = arr[0];
    int64:i = 1;
    while (i < length) {
        if (arr[i] > maximum) {
            maximum = arr[i];
        }
        i = i + 1;
    }
    return maximum;
};
%endmacro

// Generate for int32 type
GEN_CONTAINS(int32)
GEN_SUM(int32)
GEN_MIN(int32)
GEN_MAX(int32)

// =============================================================================
// MATH LIBRARY (24 functions across 6 types)
// =============================================================================

%macro GEN_ABS 1
func:abs_%1 = *%1(%1:x) {
    if (x < 0) {
        return 0 - x;
    }
    return x;
};
%endmacro

%macro GEN_MIN_TWO 1
func:min2_%1 = *%1(%1:a, %1:b) {
    if (a < b) {
        return a;
    }
    return b;
};
%endmacro

%macro GEN_MAX_TWO 1
func:max2_%1 = *%1(%1:a, %1:b) {
    if (a > b) {
        return a;
    }
    return b;
};
%endmacro

%macro GEN_CLAMP 1
func:clamp_%1 = *%1(%1:value, %1:min_val, %1:max_val) {
    if (value < min_val) {
        return min_val;
    }
    if (value > max_val) {
        return max_val;
    }
    return value;
};
%endmacro

// Generate for int32 type
GEN_ABS(int32)
GEN_MIN_TWO(int32)
GEN_MAX_TWO(int32)
GEN_CLAMP(int32)

// =============================================================================
