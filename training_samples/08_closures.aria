// Sample 8: Module-scope globals and closures

int64:globalCounter;

func:increment = *int64() {
    globalCounter = globalCounter + 1;
    return globalCounter;
};

func:reset = *int8() {
    globalCounter = 0;
    return 1;
};

func:main = *int8() {
    reset();
    result:r1 = increment();  // 1
    result:r2 = increment();  // 2
    result:r3 = increment();  // 3
    return 0;
};
